import{a as J,t as Q}from"../chunks/BhTaoWjl.js";import{B as ne,C as se,D as me,e as z,p as Te,v as I,M as be,d as m,a5 as ke,a6 as ie,L as K,K as W,w as R,N as Se,a7 as q,a8 as ge,q as we,a9 as Ne,R as ye,aa as oe,ab as Ce,Q as De,ac as Me,t as Le,G as Re,V as je,ad as Oe,ae as He,af as X,ag as F,ah as Ve,s as fe,ai as Ee,i as qe,aj as Be,ak as Je,I as Ke,al as We,am as Ge,h as Pe,an as Ye,ao as $e,m as ze,ap as Ue,x as Qe,aq as H,a0 as b,y as le,z as Xe,c as V,a1 as j,a2 as D,n as Fe,$ as ue}from"../chunks/DSNKOToV.js";import{d as Ze,s as ve}from"../chunks/BWPIQR_s.js";import{p as O}from"../chunks/B-SNZLgv.js";import{o as ea}from"../chunks/f5pyImiw.js";let ce=!1;function Ae(){ce||(ce=!0,document.addEventListener("reset",a=>{Promise.resolve().then(()=>{var e;if(!a.defaultPrevented)for(const t of a.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function aa(a){var e=me,t=z;ne(null),se(null);try{return a()}finally{ne(e),se(t)}}function ta(a,e,t,n=t){a.addEventListener(e,()=>aa(t));const r=a.__on_r;r?a.__on_r=()=>{r(),n(!0)}:a.__on_r=()=>n(!0),Ae()}function _e(a,e){return e}function ra(a,e,t,n){for(var r=[],s=e.length,f=0;f<s;f++)Ce(e[f].e,r,!0);var d=s>0&&r.length===0&&t!==null;if(d){var p=t.parentNode;De(p),p.append(t),n.clear(),S(a,e[0].prev,e[s-1].next)}Me(r,()=>{for(var w=0;w<s;w++){var _=e[w];d||(n.delete(_.k),S(a,_.prev,_.next)),Le(_.e,!d)}})}function de(a,e,t,n,r,s=null){var f=a,d={flags:e,items:new Map,first:null},p=(e&Ee)!==0;if(p){var w=a;f=I?K(Re(w)):w.appendChild(je())}I&&be();var _=null,y=!1,A=Oe(()=>{var i=t();return qe(i)?i:i==null?[]:ye(i)});Te(()=>{var i=m(A),l=i.length;if(y&&l===0)return;y=l===0;let v=!1;if(I){var k=f.data===ke;k!==(l===0)&&(f=ie(),K(f),W(!1),v=!0)}if(I){for(var c=null,h,g=0;g<l;g++){if(R.nodeType===8&&R.data===Se){f=R,v=!0,W(!1);break}var E=i[g],o=n(E,g);h=xe(R,d,c,null,E,o,g,r,e),d.items.set(o,h),c=h}l>0&&K(ie())}if(!I){var u=me;na(i,d,f,r,e,(u.f&q)!==0,n)}s!==null&&(l===0?_?ge(_):_=we(()=>s(f)):_!==null&&Ne(_,()=>{_=null})),v&&W(!0),m(A)}),I&&(f=R)}function na(a,e,t,n,r,s,f,d){var Z,ee,ae,te;var p=(r&Be)!==0,w=(r&(X|F))!==0,_=a.length,y=e.items,A=e.first,i=A,l,v=null,k,c=[],h=[],g,E,o,u;if(p)for(u=0;u<_;u+=1)g=a[u],E=f(g,u),o=y.get(E),o!==void 0&&((Z=o.a)==null||Z.measure(),(k??(k=new Set)).add(o));for(u=0;u<_;u+=1){if(g=a[u],E=f(g,u),o=y.get(E),o===void 0){var B=i?i.e.nodes_start:t;v=xe(B,e,v,v===null?e.first:v.next,g,E,u,n,r),y.set(E,v),c=[],h=[],i=v.next;continue}if(w&&sa(o,g,u,r),o.e.f&q&&(ge(o.e),p&&((ee=o.a)==null||ee.unfix(),(k??(k=new Set)).delete(o))),o!==i){if(l!==void 0&&l.has(o)){if(c.length<h.length){var N=h[0],x;v=N.prev;var M=c[0],C=c[c.length-1];for(x=0;x<c.length;x+=1)he(c[x],N,t);for(x=0;x<h.length;x+=1)l.delete(h[x]);S(e,M.prev,C.next),S(e,v,M),S(e,C,N),i=N,v=C,u-=1,c=[],h=[]}else l.delete(o),he(o,i,t),S(e,o.prev,o.next),S(e,o,v===null?e.first:v.next),S(e,v,o),v=o;continue}for(c=[],h=[];i!==null&&i.k!==E;)(s||!(i.e.f&q))&&(l??(l=new Set)).add(i),h.push(i),i=i.next;if(i===null)continue;o=i}c.push(o),v=o,i=o.next}if(i!==null||l!==void 0){for(var T=l===void 0?[]:ye(l);i!==null;)(s||!(i.e.f&q))&&T.push(i),i=i.next;var L=T.length;if(L>0){var Ie=r&Ee&&_===0?t:null;if(p){for(u=0;u<L;u+=1)(ae=T[u].a)==null||ae.measure();for(u=0;u<L;u+=1)(te=T[u].a)==null||te.fix()}ra(e,T,Ie,y)}}p&&He(()=>{var re;if(k!==void 0)for(o of k)(re=o.a)==null||re.apply()}),z.first=e.first&&e.first.e,z.last=v&&v.e}function sa(a,e,t,n){n&X&&oe(a.v,e),n&F?oe(a.i,t):a.i=t}function xe(a,e,t,n,r,s,f,d,p,w){var _=(p&X)!==0,y=(p&Je)===0,A=_?y?Ve(r):fe(r):r,i=p&F?fe(f):f,l={i,v:A,k:s,a:null,e:null,prev:t,next:n};try{return l.e=we(()=>d(a,A,i),I),l.e.prev=t&&t.e,l.e.next=n&&n.e,t===null?e.first=l:(t.next=l,t.e.next=l.e),n!==null&&(n.prev=l,n.e.prev=l.e),l}finally{}}function he(a,e,t){for(var n=a.next?a.next.e.nodes_start:t,r=e?e.e.nodes_start:t,s=a.e.nodes_start;s!==n;){var f=Ke(s);r.before(s),s=f}}function S(a,e,t){e===null?a.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function G(a){if(I){var e=!1,t=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var n=a.value;U(a,"value",null),a.value=n}if(a.hasAttribute("checked")){var r=a.checked;U(a,"checked",null),a.checked=r}}};a.__on_r=t,We(t),Ae()}}function U(a,e,t,n){var r=a.__attributes??(a.__attributes={});I&&(r[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||r[e]!==(r[e]=t)&&(e==="style"&&"__styles"in a&&(a.__styles={}),e==="loading"&&(a[Ge]=t),t==null?a.removeAttribute(e):typeof t!="string"&&ia(a).includes(e)?a[e]=t:a.setAttribute(e,t))}var pe=new Map;function ia(a){var e=pe.get(a.nodeName);if(e)return e;pe.set(a.nodeName,e=[]);for(var t,n=a,r=Element.prototype;r!==n;){t=Ye(n);for(var s in t)t[s].set&&e.push(s);n=Pe(n)}return e}function P(a,e,t=e){var n=$e();ta(a,"input",r=>{var s=r?a.defaultValue:a.value;if(s=Y(a)?$(s):s,t(s),n&&s!==(s=e())){var f=a.selectionStart,d=a.selectionEnd;a.value=s??"",d!==null&&(a.selectionStart=f,a.selectionEnd=Math.min(d,a.value.length))}}),(I&&a.defaultValue!==a.value||ze(e)==null&&a.value)&&t(Y(a)?$(a.value):a.value),Ue(()=>{var r=e();Y(a)&&r===$(a.value)||a.type==="date"&&!r&&!a.value||r!==a.value&&(a.value=r??"")})}function Y(a){var e=a.type;return e==="number"||e==="range"}function $(a){return a===""?null:+a}const oa=async(a,e,t,n,r,s)=>{e==null||e.setItem("subject",m(t)),e==null||e.setItem("username",m(n));const f=await fetch(`${r}/test/jwt`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sub:m(t),username:m(n),exp:Math.floor(new Date().setDate(new Date().getDate()+m(s))/1e3)})}),d=await f.json();f.status===200&&(e==null||e.setItem("jwt",d.data))};var fa=async(a,e,t)=>{const n=e==null?void 0:e.getItem("jwt");console.log(n);const r=await fetch(`${t}/test/auth`,{headers:{Authorization:`Bearer ${n}`}});console.log(r);const s=await r.json();console.log(s)},la=Q("<li><a> </a></li>"),ua=Q("<p> </p> <ul></ul>",1),va=Q('<h1>Known Socially</h1> <a href="./admin">Admin</a> <div><span>Create JWT</span> <input type="text" placeholder="Subject"> <input type="text" placeholder="Username"> <input type="number" placeholder="Expiration"> <button>Generate</button></div> <div><span>Test JWT auth</span> <button>Test Auth</button></div> <h2>Routes</h2> <!> <h2>Welcome to SvelteKit</h2> <p>Visit <a href="https://svelte.dev/docs/kit">svelte.dev/docs/kit</a> to read the documentation</p>',1);function ma(a,e){Qe(e,!0);const t="http://localhost:8080";let n=H(O({}));ea(async function(){let h=await(await fetch(`${t}/api`)).json();V(n,O(h.data))});const r=typeof window<"u"?window.localStorage:null;let s=H(O((r==null?void 0:r.getItem("subject"))||"")),f=H(O((r==null?void 0:r.getItem("username"))||"")),d=H(O((r==null?void 0:r.getItem("days"))||5));var p=va(),w=b(le(p),4),_=b(j(w),2);G(_);var y=b(_,2);G(y);var A=b(y,2);G(A);var i=b(A,2);i.__click=[oa,r,s,f,t,d],D(w);var l=b(w,2),v=b(j(l),2);v.__click=[fa,r,t],D(l);var k=b(l,4);de(k,17,()=>Object.entries(m(n)),_e,(c,h)=>{let g=()=>m(h)[0],E=()=>m(h)[1];var o=ua(),u=le(o),B=j(u,!0);D(u);var N=b(u,2);de(N,21,E,_e,(x,M)=>{var C=la(),T=j(C),L=j(T,!0);D(T),D(C),ue(()=>{U(T,"href",m(M)),ve(L,m(M))}),J(x,C)}),D(N),ue(()=>ve(B,g())),J(c,o)}),Fe(4),P(_,()=>m(s),c=>V(s,c)),P(y,()=>m(f),c=>V(f,c)),P(A,()=>m(d),c=>V(d,c)),J(a,p),Xe()}Ze(["click"]);export{ma as component};
