import{a as B,t as z}from"../chunks/BziD7Hom.js";import{u as he,v as D,w as me,d as m,H as ge,x as ee,y as K,z as Y,A as R,B as we,I as W,C as ue,D as ve,E as be,F as ce,e as ae,G as te,J as xe,K as Ee,L as Te,M as Ie,N as ye,O as Ae,P as ke,t as Se,Q as Ce,R as G,T as P,V as De,s as re,W as de,i as Ne,X as je,Y as Me,Z as Re,_ as He,l as J,j as y,k as ne,$ as Oe,c as L,m as H,r as N,a0 as Je,a1 as ie}from"../chunks/DF5mqVpf.js";import{s as se}from"../chunks/BddpPN8o.js";import{b as $,r as q,s as Le}from"../chunks/QZECNc7s.js";import{d as We}from"../chunks/BZ9XGDjq.js";import{p as O}from"../chunks/Cdoiitvf.js";import{o as Ve}from"../chunks/DRbuTkes.js";function oe(f,e){return e}function Be(f,e,a,s){for(var r=[],u=e.length,o=0;o<u;o++)xe(e[o].e,r,!0);var _=u>0&&r.length===0&&a!==null;if(_){var h=a.parentNode;Ee(h),h.append(a),s.clear(),k(f,e[0].prev,e[u-1].next)}Te(r,()=>{for(var w=0;w<u;w++){var d=e[w];_||(s.delete(d.k),k(f,d.prev,d.next)),Ie(d.e,!_)}})}function le(f,e,a,s,r,u=null){var o=f,_={flags:e,items:new Map,first:null},h=(e&de)!==0;if(h){var w=f;o=D?K(ye(w)):w.appendChild(Ae())}D&&me();var d=null,b=!1,E=ke(()=>{var t=a();return Ne(t)?t:t==null?[]:ce(t)});he(()=>{var t=m(E),i=t.length;if(b&&i===0)return;b=i===0;let v=!1;if(D){var A=o.data===ge;A!==(i===0)&&(o=ee(),K(o),Y(!1),v=!0)}if(D){for(var c=null,p,g=0;g<i;g++){if(R.nodeType===8&&R.data===we){o=R,v=!0,Y(!1);break}var x=t[g],n=s(x,g);p=pe(R,_,c,null,x,n,g,r,e),_.items.set(n,p),c=p}i>0&&K(ee())}if(!D){var l=Se;Ke(t,_,o,r,e,(l.f&W)!==0,s)}u!==null&&(i===0?d?ue(d):d=ve(()=>u(o)):d!==null&&be(d,()=>{d=null})),v&&Y(!0),m(E)}),D&&(o=R)}function Ke(f,e,a,s,r,u,o,_){var U,X,F,Q;var h=(r&je)!==0,w=(r&(G|P))!==0,d=f.length,b=e.items,E=e.first,t=E,i,v=null,A,c=[],p=[],g,x,n,l;if(h)for(l=0;l<d;l+=1)g=f[l],x=o(g,l),n=b.get(x),n!==void 0&&((U=n.a)==null||U.measure(),(A??(A=new Set)).add(n));for(l=0;l<d;l+=1){if(g=f[l],x=o(g,l),n=b.get(x),n===void 0){var V=t?t.e.nodes_start:a;v=pe(V,e,v,v===null?e.first:v.next,g,x,l,s,r),b.set(x,v),c=[],p=[],t=v.next;continue}if(w&&Ye(n,g,l,r),n.e.f&W&&(ue(n.e),h&&((X=n.a)==null||X.unfix(),(A??(A=new Set)).delete(n))),n!==t){if(i!==void 0&&i.has(n)){if(c.length<p.length){var S=p[0],T;v=S.prev;var j=c[0],C=c[c.length-1];for(T=0;T<c.length;T+=1)fe(c[T],S,a);for(T=0;T<p.length;T+=1)i.delete(p[T]);k(e,j.prev,C.next),k(e,v,j),k(e,C,S),t=S,v=C,l-=1,c=[],p=[]}else i.delete(n),fe(n,t,a),k(e,n.prev,n.next),k(e,n,v===null?e.first:v.next),k(e,v,n),v=n;continue}for(c=[],p=[];t!==null&&t.k!==x;)(u||!(t.e.f&W))&&(i??(i=new Set)).add(t),p.push(t),t=t.next;if(t===null)continue;n=t}c.push(n),v=n,t=n.next}if(t!==null||i!==void 0){for(var I=i===void 0?[]:ce(i);t!==null;)(u||!(t.e.f&W))&&I.push(t),t=t.next;var M=I.length;if(M>0){var _e=r&de&&d===0?a:null;if(h){for(l=0;l<M;l+=1)(F=I[l].a)==null||F.measure();for(l=0;l<M;l+=1)(Q=I[l].a)==null||Q.fix()}Be(e,I,_e,b)}}h&&Ce(()=>{var Z;if(A!==void 0)for(n of A)(Z=n.a)==null||Z.apply()}),ae.first=e.first&&e.first.e,ae.last=v&&v.e}function Ye(f,e,a,s){s&G&&te(f.v,e),s&P?te(f.i,a):f.i=a}function pe(f,e,a,s,r,u,o,_,h,w){var d=(h&G)!==0,b=(h&Me)===0,E=d?b?De(r):re(r):r,t=h&P?re(o):o,i={i:t,v:E,k:u,a:null,e:null,prev:a,next:s};try{return i.e=ve(()=>_(f,E,t),D),i.e.prev=a&&a.e,i.e.next=s&&s.e,a===null?e.first=i:(a.next=i,a.e.next=i.e),s!==null&&(s.prev=i,s.e.prev=i.e),i}finally{}}function fe(f,e,a){for(var s=f.next?f.next.e.nodes_start:a,r=e?e.e.nodes_start:a,u=f.e.nodes_start;u!==s;){var o=Re(u);r.before(u),u=o}}function k(f,e,a){e===null?f.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}const $e=async(f,e,a,s,r,u)=>{e==null||e.setItem("subject",m(a)),e==null||e.setItem("username",m(s));const o=await fetch(`${r}/test/jwt`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sub:m(a),username:m(s),exp:Math.floor(new Date().setDate(new Date().getDate()+m(u))/1e3)})}),_=await o.json();o.status===200&&(e==null||e.setItem("jwt",_.data))};var qe=async(f,e,a)=>{const s=e==null?void 0:e.getItem("jwt");console.log(s);const r=await fetch(`${a}/test/auth`,{headers:{Authorization:`Bearer ${s}`}});console.log(r);const u=await r.json();console.log(u)},ze=z("<li><a> </a></li>"),Ge=z("<p> </p> <ul></ul>",1),Pe=z('<h1>Known Socially</h1> <a href="./admin">Admin</a> <div><span>Create JWT</span> <input type="text" placeholder="Subject"> <input type="text" placeholder="Username"> <input type="number" placeholder="Expiration"> <button>Generate</button></div> <div><span>Test JWT auth</span> <button>Test Auth</button></div> <h2>Routes</h2> <!> <h2>Welcome to SvelteKit</h2> <p>Visit <a href="https://svelte.dev/docs/kit">svelte.dev/docs/kit</a> to read the documentation</p>',1);function ta(f,e){He(e,!0);const a="http://localhost:8080";let s=J(O({}));Ve(async function(){let p=await(await fetch(`${a}/api`)).json();L(s,O(p.data))});const r=typeof window<"u"?window.localStorage:null;let u=J(O((r==null?void 0:r.getItem("subject"))||"")),o=J(O((r==null?void 0:r.getItem("username"))||"")),_=J(O((r==null?void 0:r.getItem("days"))||5));var h=Pe(),w=y(ne(h),4),d=y(H(w),2);q(d);var b=y(d,2);q(b);var E=y(b,2);q(E);var t=y(E,2);t.__click=[$e,r,u,o,a,_],N(w);var i=y(w,2),v=y(H(i),2);v.__click=[qe,r,a],N(i);var A=y(i,4);le(A,17,()=>Object.entries(m(s)),oe,(c,p)=>{let g=()=>m(p)[0],x=()=>m(p)[1];var n=Ge(),l=ne(n),V=H(l,!0);N(l);var S=y(l,2);le(S,21,x,oe,(T,j)=>{var C=ze(),I=H(C),M=H(I,!0);N(I),N(C),ie(()=>{Le(I,"href",m(j)),se(M,m(j))}),B(T,C)}),N(S),ie(()=>se(V,g())),B(c,n)}),Je(4),$(d,()=>m(u),c=>L(u,c)),$(b,()=>m(o),c=>L(o,c)),$(E,()=>m(_),c=>L(_,c)),B(f,h),Oe()}We(["click"]);export{ta as component};
